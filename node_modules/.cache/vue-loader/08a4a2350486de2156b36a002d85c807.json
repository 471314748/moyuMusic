{"remainingRequest":"E:\\某马\\某马项目集合\\vue\\第八天-ele全家桶\\hymusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\某马\\某马项目集合\\vue\\第八天-ele全家桶\\hymusic\\src\\components\\Songs.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\某马\\某马项目集合\\vue\\第八天-ele全家桶\\hymusic\\src\\components\\Songs.vue","mtime":1585812172863},{"path":"E:\\某马\\某马项目集合\\vue\\第八天-ele全家桶\\hymusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\某马\\某马项目集合\\vue\\第八天-ele全家桶\\hymusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\某马\\某马项目集合\\vue\\第八天-ele全家桶\\hymusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\某马\\某马项目集合\\vue\\第八天-ele全家桶\\hymusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzb25nTGlzdDogW10NCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ29NVihtdmlkKXsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvTVY/bXZpZD8nK212aWQpDQogICAgfSwNCiAgICByZXF1ZXN0U29uZ3MoKSB7DQogICAgICBsZXQga2V5d29yZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnE7DQogICAgICBheGlvcyh7DQogICAgICAgIHVybDogImh0dHBzOi8vYXV0dW1uZmlzaC5jbi9zZWFyY2giLA0KICAgICAgICBtZXRob2Q6ICJnZXQiLA0KICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICBrZXl3b3Jkczoga2V5d29yZA0KICAgICAgICB9DQogICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgIHRoaXMuc29uZ0xpc3QgPSByZXMuZGF0YS5yZXN1bHQuc29uZ3M7DQogICAgICB9KTsNCiAgICB9LA0KICAgIA0KICB9LA0KICBmaWx0ZXJzOiB7DQogICAgZmlsdGVyTmFtZShzaW5nZXJBcnIpIHsNCiAgICAgIGxldCBuZXdBcnIgPSBzaW5nZXJBcnIubWFwKGVsZSA9PiB7DQogICAgICAgIHJldHVybiBlbGUubmFtZTsNCiAgICAgIH0pOw0KICAgICAgcmV0dXJuIG5ld0Fyci5qb2luKCIgfCAiKTsNCiAgICB9LA0KICAgIGZpbHRlclRpbWUodGltZSkgew0KICAgICAgbGV0IF9tID0gIjAwMDAiICsgTWF0aC5mbG9vcih0aW1lIC8gMTAwMCAvIDYwKTsNCiAgICAgIGxldCBfcyA9IE1hdGguZmxvb3IoKHRpbWUgLyAxMDAwKSAlIDYwKTsNCiAgICAgIHJldHVybiBfbS5zbGljZSgtMikgKyAiOiIgKyBfczsNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgJyRyb3V0ZS5xdWVyeS5xJygpIHsNCiAgICAgIHRoaXMucmVxdWVzdFNvbmdzKCk7DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMucmVxdWVzdFNvbmdzKCk7DQogIH0NCn07DQo="},{"version":3,"sources":["Songs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Songs.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"result-wrapper\">\r\n    <div class=\"song\" v-for=\"(item, index) in songList\" :key=\"index\">\r\n      <div class=\"name\">\r\n        <span class=\"iconfont icon-play\"></span>\r\n        {{item.name}}\r\n        <span class=\"iconfont icon-editmedia\" @click=\"goMV(item.mvid)\" v-if='item.mvid>0'></span>\r\n      </div>\r\n      <div class=\"singer\">{{item.artists | filterName}}</div>\r\n      <div class=\"album\">《{{item.album.name}}》</div>\r\n      <div class=\"time\">{{item.duration | filterTime}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      songList: []\r\n    };\r\n  },\r\n  methods: {\r\n    goMV(mvid){\r\n      this.$router.push('/MV?mvid?'+mvid)\r\n    },\r\n    requestSongs() {\r\n      let keyword = this.$route.query.q;\r\n      axios({\r\n        url: \"https://autumnfish.cn/search\",\r\n        method: \"get\",\r\n        params: {\r\n          keywords: keyword\r\n        }\r\n      }).then(res => {\r\n        console.log(res);\r\n        this.songList = res.data.result.songs;\r\n      });\r\n    },\r\n    \r\n  },\r\n  filters: {\r\n    filterName(singerArr) {\r\n      let newArr = singerArr.map(ele => {\r\n        return ele.name;\r\n      });\r\n      return newArr.join(\" | \");\r\n    },\r\n    filterTime(time) {\r\n      let _m = \"0000\" + Math.floor(time / 1000 / 60);\r\n      let _s = Math.floor((time / 1000) % 60);\r\n      return _m.slice(-2) + \":\" + _s;\r\n    }\r\n  },\r\n  watch: {\r\n    '$route.query.q'() {\r\n      this.requestSongs();\r\n    }\r\n  },\r\n  created() {\r\n    this.requestSongs();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}